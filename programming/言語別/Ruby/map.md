### **`map`**

**`map`** メソッドは配列の各要素に対してブロック内の処理を行い、その結果を新しい配列として返します。

```ruby
a1 = [100, 200, 300]
a2 = a1.map { |x| x * 2 }
p a2 # [200, 400, 600]

```

**`map`** は、Rubyにおける非常に便利なメソッドの一つで、主に配列やハッシュに対して使われます。**`map`** メソッドは、配列の各要素に対してブロック内の処理を適用し、その結果から新しい配列を作成します。

### **`map` メソッドの基本的な使い方:**

- **`map`** メソッドは、配列の各要素に対してブロックを実行します。
- ブロック内での最後の評価結果が新しい配列の対応する要素となります。
- 元の配列は変更されません。

### **例:**

```ruby

numbers = [1, 2, 3, 4, 5]

# 各要素を2倍にする
doubled_numbers = numbers.map { |number| number * 2 }

puts doubled_numbers.inspect
# 出力: [2, 4, 6, 8, 10]

```

この例では、**`numbers`** 配列の各要素に対して2倍の処理を行い、その結果を **`doubled_numbers`** に格納しています。

**重要な点:**

- **`map`** は元の配列を変更せず、新しい配列を返します。
- **`map!`** メソッド（破壊的メソッド）を使用すると、元の配列自体を変更することができます。
- ブロックを使用することで、非常に柔軟な操作が可能です。

**`map`** はRubyにおける関数型プログラミングのアプローチを反映したメソッドであり、データの変換や処理において非常に便利です。

**`curriculum_data`**という二次元配列からハッシュの配列に変換する場合、Rubyの**`map`**メソッドを使用するのが一般的です。この方法では、配列の各要素（ここでは**`curriculum_data`**の各サブ配列）をハッシュに変換し、その結果を新しい配列に格納します。

以下のコードは、提供された二次元配列を要求された形式のハッシュの配列に変換します。この例では、各サブ配列の最初の要素を**`content`**キーに、二番目の要素を**`hours`**キーに割り当てています。

```ruby

curriculum_data = [
  ["課題1 アプリの基本設定を行う", 2],
  ["課題2 全ページにヘッダー/フッターを設置", 6],
  ["課題3 Gemを使ってみよう (Bootstrap)", 2],
  ["課題4 sorceryを使用して、ユーザー機能を作成しよう", 16],
  ["Sorcery課題", 4],
  ["課題5 i18nによる日本語化対応", 4],
  ["課題6 フラッシュメッセージの設定", 6],
  ["課題7 デコレーターの導入", 4],
  ["課題8 掲示板の一覧機能の作成", 8],
  ["課題9 掲示板作成機能", 8],
  ["課題10 フォーム入力時エラー情報を個別表示", 4],
  ["BugFix課題", 3],
  ["課題11 掲示板の画像アップロード機能", 12],
  ["課題12 掲示板詳細画面の追加/コメント機能の実装", 16],
  ["課題13 タイトルを動的に出力する", 4],
  ["課題14 掲示板の編集、削除機能の実装", 8],
  ["課題15 ブックマーク機能の追加", 12],
  ["課題16 ブックマークボタンのajax化", 8],
  ["Like課題", 4],
  ["課題17 コメント投稿、削除、編集機能のajax化" ,12],
  ["課題18 掲示板のページネーション", 8],
  ["課題19 掲示板の検索機能を実装", 8],
  ["課題20 プロフィール編集機能の実装", 4],
  ["Profile課題", 4],
  ["課題21 パスワードリセット機能の実装", 16],
  ["課題22 [管理画面] 管理画面へのログイン機能、管理画面トップページの作成", 12],
  ["課題23 [管理画面]掲示板/ユーザのCRUD機能の作成", 8],
  ["Admin課題", 4]
]

# 二次元配列をハッシュの配列に変換
curriculum_hash_array = curriculum_data.map do |item|
  { content: item[0], hours: item[1] }
end

# 変換結果を表示
curriculum_hash_array.each do |item|
  puts "#{item[:content]} => #{item[:hours]}"
end

```

このコードは、**`curriculum_data`**の各要素（サブ配列）を取り出し、**`content`**キーにサブ配列の最初の要素を、**`hours`**キーにサブ配列の二番目の要素を割り当てた新しいハッシュを作成します。そして、これらのハッシュを含む新しい配列**`curriculum_hash_array`**を作成します。

出力結果は、各課題の内容とそれに割り当てられた時間のハッシュを含む配列になります。