#インフラ基礎

## インフラとは

IT分野においては、「アプリケーションを動かす上で必要な基礎」を意味し、主にハードウェアとソフトウェアの２つから構成される。

### ハードウェア

---

- コンピューター（サーバー）
- ストレージ（HDDやSSD）
- ネットワーク設備・機器
- その他周辺機器（カメラ、電源装置など）

### ソフトウェア

---

- OS
- サーバー

## インフラを構築する際の注意点

### セキュリティ

---

セキュリティが甘いと不正アクセスや情報漏洩を起こす可能性があります。

インフラの設定を正しく行うことでセキュリティの高いインフラを構築することができます。

### 可用性

---

可用性とは、システムが問題なく稼働し続ける指標のこと。

可用性を高めるにはインフラを適切な性能で構築することに加え、冗長性を持たせた構成にすることが重要になります。

### **[補足]冗長性を持たせた構成とは**

---

```
冗長である
```

とは本来必要な数や量より多い状態のことを指します。

例えば、サーバーが１台で足りるところを２台用意するなどです。

こうすることで万が一サーバーが１台停止しても残りの１台でシステムを動かし続けることができます。

業務では冗長性のある構成をとっていることが一般的です。

## **インフラの構成例**

Railsアプリをデプロイする場合の構成例を紹介します。

!https://runteq-infra-introduction-images.s3-ap-northeast-1.amazonaws.com/01/infra-layout.png

詳細な説明は省きますが、それぞれのサーバーはアプリケーションを動かす上で不可欠です。

| サーバー名 | 内容 |
| --- | --- |
| APサーバー（アプリケーションサーバー） | Railsなどのサーバサイドアプリケーションを動かすのに必要 |
| DBサーバー（データベースサーバー） | データベースを動かすのに必要 |

この例のようにアプリケーションは複数のサーバーが連携して動いていることが多いです。

一つのサーバー（コンピューター）でAPサーバーとDBサーバーを動かすこともできますが、実務では複数サーバーで運用するのが一般的です。複数のサーバーで動かすメリットとしてはインフラの構成を柔軟に変えられる（台数を増やしたり減らしたりできる）こと、負荷を分散させられること、冗長性を持たせやすいことなどがあります。

なお、アプリケーションを構成するサーバーは他にもさまざまな物が存在しており、以下のような物もよく使われています（ほんの一例で他にもさまざまなサーバーがあります）。

| サーバー名 | 内容 |
| --- | --- |
| Webサーバー | 静的コンテンツを返す。APサーバーより前に配置することでAPサーバーの負荷を減らす。 |
| ストレージサーバー | 画像や動画などのファイルを保存・配信する |
| CDN | 画像や動画などのファイルをキャッシュ・配信する。キャッシュを使っているのでレスポンスが早い。キャッシュ元のデータはストレージサーバーやWebサーバーなどに配置してある。また、世界中に配信拠点を持っていることが多く、外国からのアクセスでもレスポンスが早い。 |